<!DOCTYPE html>
<html>
    <head>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Ejercicio Distribuidos</title>
        <link rel="stylesheet" href="./css/bootstrap.min.css">
        <!--<link rel="stylesheet" href="./css/styles.css">-->


    </head>
    <body>
     
        <script src="./js/jquery-3.5.1.min.js" type="text/javascript"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="./js/bootstrap.min.js"></script>
        <script src="./js/scripts.js"></script>

        <div class="card">
            <div class="card-header p-3 mb-2 bg-info text-white">
                <h1 style="text-align: center">Inventario de Vehículos</h1>
            </div>
            <div class="card-body p-3 mb-2 bg-dark text-white">

                <div class="text-right">
                    <label ><a href="#link-1" style="float: right" class="badge badge-primary">Descargar inventario</a></label> 
                </div>
                <div class="text-center">
                    <label id="quantV">Cantidad de Vehiculos:</label>
                </div>
                <div class="text-center">
                    <label id="priceVT">Precio Total: $</label>
                </div>
                <div class="form-row">
                    <div class="form-group col-2">
                        <input type="search" id="filter" class="form-control" placeholder="Buscar...">                    
                    </div>       
                    <div class="form-group col-10">
                        <button style="float: right" type="button" class="btn btn-outline-success" onclick="loadVehicles()" id="loadV">Cargar Inventario</button>
                    </div>   
                </div>       

                <div class="table-responsive">
                    <table class="table table-striped table-sm table-bordered" id="tabla">
                        <thead class="thead-light">
                            <tr>
                                <th>Placa</th>
                                <th>Marca</th>
                                <th>Modelo</th>
                                <th>Precio/Unidad</th>
                                <th>Cantidad</th>
                                <th>Color</th>
                                <th>Categoría</th>

                            </tr>
                        </thead>
                        <tbody class="search p-3 mb-2 bg-secondary text-black" id="tblBody">
                        </tbody>
                    </table>
                </div>         
            </div>            

            <div class="card-footer p-3 mb-2 text-black" style="background-color: #bdc4b9">

                <a name="link-1"></a>
                <div class="text-left">
                    <h2>Descargas</h2>
                </div>

                <div class="form-row" style="text-align: center">
                    <div class="form-group col-5 p-3 mb-2" style="background-color: #ecedea">
                        <label style="font-size: 25px">Descargar todo aquí</label>
                        <a style="font-size: 25px" href="javascript:void(0)"  id="btnExportar"  onclick="JSONToCSVConvertor(`Inventario`, 1)">Descargar</a>
                    </div>
                    <div class="form-group col-2">
                        <label style="font-size: 25px">ó</label>
                    </div>
                    <div class="form-group col-5 p-3 mb-2" style="background-color: #ecedea">
                        <label style="font-size: 25px">Descargar por atributo</label>
                        <div class="form-row col-sm">
                            <div class="form-group col-sm">
                                <select name="atributte" id="atributte" class="form-control" onchange="atributtes()">
                                    <option value="">Seleccione un Atributo . . .</option>
                                    <option value="mark">Marca</option>
                                    <option value="model">Modelo</option>
                                    <option value="color">Color</option>
                                    <option value="category">Categoría</option>
                                </select>       
                            </div>

                            <div class="form-group col-sm">
                                <select id="select" class="form-control" onchange="downloadAtr()">
                                    <option>Seleccione el correspondiente...</option>
                                </select>   
                            </div>

                        </div>

                        <div class="form-group col-sm">
                            <!--<a href="\EjercicioDistribuidos\Excel.xlsx" download="Inventario.xlsx">Descargar</a>  -->
                            <a href="javascript:void(0)"  id="btnExportar2" onclick="JSONToCSVConvertor(`Inventario`, 0)" style="font-size: 25px">Descargar</a>
                        </div>
                        <!---onclick="downloads(`btnExportar`, `tabla`)"  onclick="downloadAtr()"--->
                    </div>

                    <div class="table-responsive">
                        <table  class="table table-striped table-sm table-bordered" id="tabla2">
                            <thead class="thead-light">
                                <tr>
                                    <th>Placa</th>
                                    <th>Marca</th>
                                    <th>Modelo</th>
                                    <th>Precio</th>
                                    <th>Cantidad</th>
                                    <th>Color</th>
                                    <th>Categoría</th>

                                </tr>
                            </thead>
                            <tbody class="search p-3 mb-2 bg-secondary text-black" id="tblBody-2">
                            </tbody>
                        </table>
                    </div>  

                </div>
            </div>
        </div>       

        <script>
            // Write on keyup event of keyword input element
            $(document).ready(function () {
                $("#filter").keyup(function () {
                    _this = this;
                    // Show only matching TR, hide rest of them
                    $.each($("#tabla tbody tr"), function () {
                        if ($(this).text().toLowerCase().indexOf($(_this).val().toLowerCase()) === -1)
                            $(this).hide();
                        else
                            $(this).show();
                    });
                });
            });
        </script>





    </body>
</html>
